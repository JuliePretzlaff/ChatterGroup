@model IEnumerable<Chatter.Models.Chat>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

<div id="response"></div>
<button id="getChats" class="btn btn-primary">Get Chats</button>
@section Scripts {
<script>
       var jsonTest = { "firstName": "Bob", "lastName": "Sauce", "children": [{ "firstName": "Barbie", "age": 19 }, { "firstName": "Ron", "age": null }] }

       //now some jQuery
        $.each(("#response").text(jsonTest.children.firstName));

    //this talks to controller
        $.ajax({
            type: 'POST',
            url: "@Url.Action("TestJson")",
            data: JSON.stringify(chats),
            contentType: "application/JSON;charset=tf=8",
            success: function () { alert("yay") },
            error: function () { alert("NO")}

        });

</script>
}
